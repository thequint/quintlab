var config={apiKey:"AIzaSyD2loaJl1Hn9SjjCan6CaV9sXDFvopA1k4",authDomain:"dashboard-51ea4.firebaseapp.com",databaseURL:"https://dashboard-51ea4.firebaseio.com",projectId:"dashboard-51ea4",storageBucket:"dashboard-51ea4.appspot.com",messagingSenderId:"1062965330854"};firebase.initializeApp(config);var db=firebase.firestore();function init(){var e=0,a=5,t=$("#header").outerHeight();requestAnimationFrame(function s(){!function(){var s=$(this).scrollTop();Math.abs(e-s)<=a||(s>e&&s>t?$("#header").removeClass("header-down").addClass("header-up"):s+$(window).height()<$(document).height()&&$("#header").removeClass("header-up").addClass("header-down"),0===s&&$("#header").removeClass("header-down"),e=s)}(),requestAnimationFrame(s)})}db.settings({timestampsInSnapshots:!0}),init(),$("textarea#Message").on("keyup",function(){var e=this.value.match(/\S+/g).length;if(e>500){var a=$(this).val().split(/\s+/,500).join(" ");$(this).val(a+" ")}else $("#chars").text(500-e)}),$("#Email").keypress(function(){$("#ErrorEmail").html("")}),$("#Mobile").on("keypress",function(e){$("#ErrorMobile").html("");var a=$(this),t=new RegExp("^[0-9\b]+$"),s=String.fromCharCode(e.charCode?e.charCode:e.which);return a.val().length>9?(e.preventDefault(),!1):e.charCode<54&&e.charCode>47?0!=a.val().length||(e.preventDefault(),!1):!!t.test(s)||(e.preventDefault(),!1)}),$("#SubmitForm").click(function(e){e.preventDefault();var a=$("#Title").val(),t=$("#Message").val(),s=$("#Name").val(),n=$("#Email").val(),i=$("#Mobile").val();$("#Address").val(),$("#About").val();if(0==a.length)return $("#head").text("All fields are mandatory"),$("#Title").focus(),!1;if(0==t.length)return $("#head").text("All fields are mandatory"),$("#Message").focus(),!1;if(0==s.length)return $("#head").text("All fields are mandatory"),$("#Name").focus(),!1;if(!n.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)||0==n.length)return $("#ErrorEmail").html("<span>Please enter a valid email address</span>"),$("#Email").focus(),!1;if(i.length<10)return $("#head").text("All fields are mandatory"),$("#ErrorMobile").html("<span>Please enter a valid mobile number</span>"),$("#Mobile").focus(),!1;if(1!=$("#fld_terms").prop("checked"))return alert("Please accept the Terms and Conditions"),!1;var o={key:"rzp_live_SWoEhVKfBqYonT",amount:"10000",name:"The Quint",description:"*Entry fees includes GST",image:"https://www.thequint.com/quintlab/my-report-debate/assets/images/thequint-logo.png",handler:function(e){update_db(e.razorpay_payment_id)},prefill:{name:$("input[name='name']").val(),email:$("input[name='email']").val(),contact:$("input[name='number']").val()},notes:{address:"Hello World"},theme:{color:"#0F5E90"}};new Razorpay(o).open()});var essay={};function update_db(e){$("input").each(function(){essay[$(this).attr("name")]=$(this).val()}),$("textarea").each(function(){essay[$(this).attr("name")]=$(this).val()}),$("#Radio_En").is(":checked")?essay.lang="eng":essay.lang="hindi",essay.payment_id=e,essay.date=new Date,db.collection("MyReport_Debate").doc(essay.email).set(essay).then(function(e){$("body").addClass("is-modal is-payment"),$("#PaymentId").html(essay.payment_id)}).catch(function(e){})}$(document).ready(function(){$(".nav-bar").click(function(){"use strict";$("body").addClass("is-nav"),nav_flag=1}),$(".top-nav a").click(function(){"use strict";$("body").removeClass("is-nav"),nav_flag=0}),$(".top-nav ul li a").click(function(){"use strict";$(".top-nav ul li a").removeClass("is-active"),$(this).addClass("is-active")}),$(".des").click(function(e){"use strict";var a=0;a=$(this.hash).offset().top>$(document).height()-$(window).height()?$(document).height()-$(window).height():$(this.hash).offset().top,$("html,body").animate({scrollTop:a},1e3,"swing")})}),$("body").click(function(e){"is-more"!=e.target.className&&($(e.target).closest(".is-more").length||$(".is-more").removeClass("is-more"))});var nav_flag=0;$("body").click(function(e){"top-nav"!=e.target.className&&($(e.target).closest(".top-nav").length||"nav-bar"!=e.target.className&&($(e.target).closest(".nav-bar").length||1==nav_flag&&($("body").removeClass("is-nav"),nav_flag=0)))}),$(".read-profiles").click(function(){$("body").addClass("is-modal is-profile")}),$(".topic").click(function(){$("body").addClass("is-modal is-topic")}),$(".close-modal").click(function(){$("body").removeAttr("class")});