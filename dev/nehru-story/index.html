<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Nehru Story</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta name="copyright" content="The Quint">
<meta name="author" content="The Quint">
<meta name="description" content="">
<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="assets/images/favicon/favicon.ico">
<!-- Custom styles for this template -->
<link rel="stylesheet" href="assets/css/base.css" media="all">
<link rel="stylesheet" href="assets/css/animate.css" media="all">
<link rel="stylesheet" href="assets/css/font-awesome.min.css" media="all">
<link rel="stylesheet" href="assets/css/theme.css" media="all">

<!-- <link rel="stylesheet" href="https://fea.assettype.com/thequint/assets/fonts-86f8c78cce.css"> -->
<link rel='stylesheet prefetch' href='https://michael-zhigulin.github.io/mz-codepen-projects/Material%20Design%20UI%20Audio%20Player/font/font.css'>
<link rel="stylesheet" href="assets/css/style.css">

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css?family=Raleway:600,700" rel="stylesheet">

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>

<body onload="adjust_iframe_height()">
    <div class="main-wrap">
        <section class="container">
            <div class="container--left">
                <div class="player" id="story_img">
                    <div class="like waves-effect waves-light">
                        <i class="icon-heart"></i>
                    </div>
                    <div class="mask"></div>
                    <ul class="player-info info-one">
                        <li class="story_headline">test</li>
                        <li class="sub_headline"></li>
                        <li>5:34</li>
                    </ul>
                    <ul class="player-info info-two">
                        <li class="story_headline">test</li>
                        <li class="sub_headline"></li>
                        <li><span id="duration"></span><i> / </i>5:34</li>
                    </ul>
                    <div id="play-button" class="unchecked">
                        <i class="icon icon-play"></i>
                    </div>
                    <div class="control-row">
                        <div class="waves-animation-one"></div>
                        <div class="waves-animation-two"></div>
                        <div id="pause-button">
                            <i class="icon"></i>
                        </div>
                        <div class="seek-field">
                            <input id="audioSeekBar" min="0" max="334" step="1" value="0" type="range" oninput="audioSeekBar()" onchange="this.oninput()">
                        </div>
                        <div class="volume-icon">
                            <i class="icon-volume-up"></i>
                        </div>
                        <div class="volume-field">
                            <input type="range" min="0" max="100" value="100" step="1" oninput="audio.volume = this.value/100" onchange="this.oninput()">
                        </div>
                    </div>
                </div>
            </div>
            <div class="container--right">
                <div class="box-wrap">
                    <!-- <h1 class="box-headline" id="story_headline"></h1> -->
                    <div class="box-content">
                        <!-- <span id="story_content"></span> -->
                        <span id="typedtext"></span>
                    </div>
                    <!-- <div class="box-audio" id="story_audio"></div> -->
                </div>
            </div>
        </section>
    </div>
    
    <div id="story_audio"></div>
    <!--
    <audio id="audio-player" ontimeupdate="SeekBar()" ondurationchange="CreateSeekBar()" preload="auto" loop>
        <source src="https://michael-zhigulin.github.io/mz-codepen-projects/Material%20Design%20UI%20Audio%20Player/audio/Tim%20Minchin%20%E2%80%94%20Rock%20n%20Roll%20Nerd.ogg" type="audio/ogg">
        <source src="assets/media/audio--light-has-gone-30-jan-1948.mp3" type="audio/mpeg">
    </audio>-->

    <!-- Scripts -->
    <script type="text/javascript" src="assets/js/jquery.min.js"></script>
 <!--   <script src='https://cdnjs.cloudflare.com/ajax/libs/node-waves/0.7.5/waves.min.js'></script>
    <script src="assets/js/index.js"></script>-->
    <script type="text/javascript">
    var type_flag = 0;
    $("#play-button").click(function() {
        
        if($(this).hasClass("unchecked")){
            //alert("yes");
            $(".container--left").addClass("img-animate");
            $(".container--right").addClass("box-width");
            $(".container--right").addClass("add-content");
            if (type_flag == 0) {
                typewriter();
                type_flag = 1;
            }
        }else {
            $(".container--left").removeClass("img-animate");
            $(".container--right").removeClass("box-width");
            $(".container--right").removeClass("add-content");
        }
        adjust_iframe_height();
        
    });

    function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }

    // content array
    var content_array = [{
            'img': 'assets/images/nehru-cover-img01.png',
            'bg_color': '#e9c300',
            'headline': 'The Objective Resolution',
            'sub_headline': 'Jawaharlal Nehru',
            'content': ['“The Resolution that I am placing before you is in the nature of a pledge. It has been drafted after mature deliberation and efforts have been made to avoid controversy... The Resolution deals with fundamentals which are commonly held and have been accepted by the people... Unfortunately, our country is full of differences, but no one,','Nehru: “I beg to move:','(1)This Constituent Assembly declares its firm and solemn resolve to proclaim India as an Independent Sovereign Republic and to draw up for her future governance a Constitution;','(2)WHEREIN the territories that now comprise British India, the territories that now form the Indian States, and such other parts of India as are outside British India and the States as well as such other territories as are willing to be constituted into the Independent Sovereign India, shall be a Union of them all; and','(3) WHEREIN the said territories, whether with their present boundaries or with such others as may be determined by the Constituent Assembly and thereafter according to the Law of the Constitution, shall possess and retain the status of autonomous Units, together with residuary powers, and exercise all powers and functions of government and administration, save and except such powers and functions as are vested in or assigned to the Union, or as are inherent or implied in the Union or resulting therefrom; and','(4) WHEREIN all power and authority of the Sovereign Independent India, its constituent parts and organs of government, are derived from the people; and','(5)WHEREIN shall be guaranteed and secured to all the people of India justice, social, economic and political; equality of status, of opportunity, and before the law; freedom of thought, expression, belief, faith worship, vocation, association and action, subject to law and public morality; and','(6)WHEREIN adequate safeguards shall be provided for minorities, backward and tribal areas, and depressed and other backward classes; and','(7)WHEREBY shall be maintained the integrity of the territory of the Republic and its sovereign rights on land, sea, and air according to Justice and the law of civilised nations, and','(8)this ancient land attains its rightful and honoured place in the world and make its full and willing contribution to the promotion of world peace and the welfare of mankind."'],
            'audio': 'assets/media/Nehru-Pledge-1.mp3'
        },
        {
            'img': 'assets/images/nehru-cover-img01.png',
            'bg_color': '#e9c300',
            'headline': 'The Objective Resolution',
            'sub_headline': 'Jawaharlal Nehru',
            'content': ['“When some petty matter divides us and we have difficulties and conflicts amongst ourselves over these small matters, let us remember not only this Resolution, but this great responsibility that we shoulder, the responsibility of the freedom of [the] people of India, the responsibility of the leadership of a large part of Asia, the responsibility of being some land of guide to vast numbers of people all over the world. It is a tremendous responsibility. If we remember it, perhaps we may not bicker so much over this seat or that post, over some small gain for this group or that. The one thing that should be obvious to all of us is this that there is no group in India, no party, no religious community, which can prosper if India does not prosper. If India goes down, we go down, all of us, whether we have a few seats more or less, whether we get a slight advantage or we do not. But if it is well with India if India lives as a vital free country, then it is well with all of us to whatever community or religion we might belong.'],
            'audio': 'assets/media/Nehru-Pledge-2.mp3'

        },
        {
            'img': 'assets/images/nehru-cover-img01.png',
            'bg_color': '#e9c300',
            'headline': 'The Objective Resolution',
            'sub_headline': 'Jawaharlal Nehru',
            'content': ['“This is the Objectives Resolution, that is an Independent Sovereign Republic. These are the three words and Pandit Nehru has declared more than once and it has made history, that there will be no change introduced in this Objectives Resolution. To my astonishment, when I got this copy of the Draft Constitution, I found, as a sort of an introductory remark Dr. Ambedkar has given the direct lie to that thing. He will not follow this Objectives Resolution. Here is what he himself admits. In paragraph 2, he says, about the Preamble : "The Objectives Resolution adopted by the Constituent Assembly in January 1947, declares that India is to be a Sovereign Independent Republic. The Drafting Committee has adopted the phrase Sovereign Democratic Republic because independence is usually implied in the word "Sovereign", so that there is hardly anything to be gained by adding the word "Independent". The question of the relationship between this Democratic Republic and the British Commonwealth of Nations remains to be decided subsequently".'],
            'audio': 'assets/media/Nehru-Pledge-3.mp3'

        },
        {
            'img': 'assets/images/nehru-cover-img01.png',
            'headline': 'Secularism',
            'sub_headline': 'Jawaharlal Nehru',
            'content': ['Whether we are Hindus or Muslims, Sikhs or Christians, whatever we are, none of us can say in his heart of hearts that he has no prejudice and no taint of communalism in his mind or heart.','“Another word is thrown up a good deal, this SECULAR STATE business. May I beg with all humility those gentlemen who use this word often, to consult some dictionary before they use it? It is brought in at every conceivable step and at every conceivable stage. I just do not understand it. It has a great deal of importance, no doubt. But it is brought in in all contexts, as if by saying that we are a secular State we have done something amazingly generous, given something out of our pocket to the rest of the world, something which we ought not to have done. We have only done something which every country does except a very few misguided and backward countries in the world. Let us not refer to that word in the sense that we have done something very mighty.”'],
            'audio': 'assets/media/Nehru-Secularism.mp3'

        },
        {
            'img': 'assets/images/nehru-cover-img01.png',
            'headline': 'National Language',
            'sub_headline': 'Jawaharlal Nehru',
            'content': ['“For it is a fact that in spite of all his teaching and in spite of the efforts of many of the honourable members present here who are keen and anxious to push up our own languages the fact is that we continue to do a great deal of our political and other work in the English language Nevertheless, this is true that we cannot go far or take our people by the million in a foreign language. Therefore, however great the English language may be-and it is great-we have to think in doing our national work, our public and, our private work as far as possible, in our own various languages and more particularly in the language that you may choose for all India use.”','“[...]We proceed wisely with this Hindi language, if we proceed wisely in two ways, by making it an inclusive language and not an exclusive one, and include in it all the language elements in India which have gone to build it up with a streak of Urdu or a mixture of Hindustani — not by statute, remember, but by allowing it to grow normally as it should grow and if, secondly, it is not, if I may say so, forced down upon an unwilling people, I have no doubt it will grow and become a very great language. How far it will push out the use of the English language I do not know; but even if it pushes our English completely from our normal work, nevertheless English will remain important for us in our world contacts and in the international sphere.” '],
            'audio': 'assets/media/Nehru-National-Language.mp3'

        },
        {
            'img': 'assets/images/nehru-cover-img01.png',
            'headline': 'Foreign Policy',
            'sub_headline': 'Jawaharlal Nehru',
            'content': ['“Ultimately foreign policy is the outcome of economic policy, and till that time, when India has properly evolved her economic policy, her foreign policy will be rather vague, rather inchoate, and will grope about.” ','“We want the help of other countries… in a large measure… in accepting economic help, or getting political help, it is not a wise policy to put all our eggs in one basket… We propose, as far as possible, to keep away from the power politics of groups, aligned against one another, which had led in the past to world wars and which may again lead to disasters on an even vaster scale.”','“India even today counts in world affairs and the trouble you see [over the issue of Kashmir] in the United Nations or in the Security Council is because she counts, not because she does not count... It is not a question of our viewpoint or of attaching ourselves to this or that bloc; it is merely the fact that we are potentially a great nation and big power...”'],
            'audio': 'assets/media/Nehru-Foreign-Policy.mp3'

        },
        {
            'img': 'assets/images/nehru-cover-img01.png',
            'headline': 'Right to Property',
            'sub_headline': 'Jawaharlal Nehru',
            'content': ['“The first clause in this article lays down the basic principle that no Person shall be deprived of his property save by authority of law. The next clause says that the law should provide for the compensation for the property and should either fix the amount of compensation or specify the principles under which or the manner in which the compensation is to be determined. The law should do it. Parliament should do it. There is no reference in this to any judiciary coming into the picture. Much thought has been given to it and there has been much debate as to where the judiciary comes in. Eminent lawyers have told us that on a proper construction of this clause, normally speaking, the judiciary should not and does not come in.”','Nevertheless, other kinds of property today are very important in industrially-developed countries. Ultimately you arrive at an idea of property which consists chiefly in a millionaire having a bundle of paper in his hands which represents millions, securities, promissory notes, etc. That is the conception of property today; that is the real conception of the millionaire...In other words, property becomes today more and more a question of credit. It becomes more and more immaterial and more and more a shadow.”'],
            'audio': 'assets/media/Nehru-Right-to-Property.mp3'

        },
        {
            'img': 'assets/images/nehru-cover-img01.png',
            'headline': 'On Taxing Salt',
            'sub_headline': 'Jawaharlal Nehru',
            'content': ['“There is hardly anyone in this House who does not feel rather strongly on this question of salt. Quite apart from the economic implications involved in this matter, salt, at one time in our national history, in the history of our struggle for freedom, became the word of power which moved large masses of human beings and brought about a strange, revolution in the country in the courses of a few months... Nevertheless, when we gave thought to this matter, careful thought-because we are building something for the future and it would be wrong to do something which might come in the way of the national good of the future-we felt that, if we put this clause in as it was it would certainly come in our way. For instance, as it is drafted, it would obviously prevent us even from dealing with foreign salt which may be dumped into this country.”'],
            'audio': 'assets/media/Nehru-On-Taxing-Salt.mp3'

        },
        {
            'img': 'assets/images/nehru-cover-img01.png',
            'headline': 'Nomination of the Governor',
            'sub_headline': 'Jawaharlal Nehru',
            'content': ['As has been stated he might be some kind of a rival almost in that particular majority group, which for the moment controls that government of the province. Then there will be these enormous elections on the basis of adult suffrage.”','I think it would be infinitely better if he was not so intimately connected with the local politics of the province, with the factions in the provinces. And...would it not be better to have a more detached figure, obviously a figure that is acceptable to the province, otherwise he would not be able to function there? He must be acceptable to the province, he must be acceptable to the Government of the province and yet he must not be known to be a part of the party machine of that province.”','But it is obviously desirable that eminent leaders of minorities – I use the word for the sake of simplicity; in future I hope we will not use the words &#39;majority&#39; and &#39;minority&#39; - eminent leaders of groups should have a chance. I think they will have a far better change in the process of nomination than in election.”'],
            'audio': 'assets/media/Nehru-Nomination-of-the-Governor.mp3'

        },
        {
            'img': 'assets/images/nehru-cover-img01.png',
            'headline': 'Being a Part of the Commonwealth',
            'sub_headline': 'Jawaharlal Nehru',
            'content': ['We are being faced by many economic difficulties. They are our domestic concern, no doubt, but obviously the world can help or hinder any policy that we might adopt. Now, does this proposal which is contained in this Declaration help our speedy progress economically and otherwise or not? That is another test. I am prepared to admit that even without external help, we will go ahead. But obviously it will be a far more difficult task and it will take a much longer time. It is not an easy matter to do that.”','“Some people talk about encouraging this particular group or that, this bloc or that. We are all, I am afraid, in the habit of considering ourselves or our friends as angel and others the reverse of angels.','“I am asked often, how can you join a Commonwealth in which there is racial discrimination, in which there are other things happening to which we object. That, I think, is a fair question and it is a matter which necessarily must cause us some trouble in our thinking. Nevertheless it is a question which does not really arise. That is to say, when we have entered into an alliance with a nation or a group of nations, it does not mean that we accept their other policies, etc.; it does not mean that we commit ourselves in any way to something that they may do. In fact, this House knows that we are carrying on at the present moment a struggle, or our countrymen are carrying on a struggle in regard to racial discrimination in various parts of the world.”'],
            'audio': 'assets/media/Nehru-Being-a-Part-of-the-Commonwealth-1.wav'

        },
        {
            'img': 'assets/images/nehru-cover-img01.png',
            'headline': 'Being a Part of the Commonwealth',
            'sub_headline': 'Jawaharlal Nehru',
            'content': ['“We shall go our way and they shall go their way. But our ways, unless something happens, will be friendly ways; at any rate, attempts will be made to understand each other, to be friends with each other and to co-operate with each other.”'],
            'audio': 'assets/media/Nehru-Being-a-Part-of-the-Commonwealth-2.wav'

        }
    ]


    section_id = getParameterByName('id')-1;

    // $("#story_img").html(content_array[section_id].img);
    // $("#story_headline").html(content_array[section_id].headline);

    $(".player").css({"background-image":"url('"+content_array[section_id].img+"')","background-color":content_array[section_id].bg_color});

    $(".story_headline").html(content_array[section_id].headline);
    $(".sub_headline").html(content_array[section_id].sub_headline);
    $("#story_content").html(content_array[section_id].content[0] + '<br/><br/>' + content_array[section_id].content[1]);

    $("#story_audio").html('<audio id="audio-player" ontimeupdate="SeekBar()" ondurationchange="CreateSeekBar()" preload="auto" loop><source src="'+ content_array[section_id].audio +'" type="audio/mpeg"></audio>');

    jQuery.loadScript = function (url, callback) {
    jQuery.ajax({
        url: url,
        dataType: 'script',
        success: callback,
        async: true
    });
    }

    $.loadScript('https://cdnjs.cloudflare.com/ajax/libs/node-waves/0.7.5/waves.min.js', function(){
        console.log("script_loaded");
        $.loadScript('https://quintlab.herokuapp.com/dev/nehru-story/assets/js/index.js', function(){
            console.log("script_loaded_2");
        });
    });
    var aText=[];
    /*var aText = new Array(
        content_array[section_id].content[0],
        content_array[section_id].content[1]
    );*/
    console.log(content_array[section_id].content.length);
    for (i = 0; i < content_array[section_id].content.length; i++) {
        aText.push(content_array[section_id].content[i])
    }
    //console.log(aText);

    var iSpeed = 20; // time delay of print out
    var iIndex = 0; // start printing array at this posision
    var iArrLength = aText[0].length; // the length of the text array
    var iScrollAt = 20; // start scrolling up at this many lines

    var iTextPos = 0; // initialise text position
    var sContents = ''; // initialise contents variable
    var iRow; // initialise current row

    function typewriter() {
        sContents = ' ';
        iRow = Math.max(0, iIndex - iScrollAt);
        var destination = document.getElementById("typedtext");

        while (iRow < iIndex) {
            sContents += aText[iRow++] + '<br /><br />';
        }
        destination.innerHTML = sContents + aText[iIndex].substring(0, iTextPos) + "_";
        if (iTextPos++ == iArrLength) {
            iTextPos = 0;
            iIndex++;
            if (iIndex != aText.length) {
                iArrLength = aText[iIndex].length;
                setTimeout("typewriter()", 500);
            }
        } else {
            setTimeout("typewriter()", iSpeed);
        }
    }
    //typewriter();

    function adjust_iframe_height(){
        var actual_height = document.body.scrollHeight; 
        console.log("height is",actual_height);
        parent.postMessage(JSON.stringify({'msg-type':"resize-iframe", height:actual_height,src:window.location.href}),"*"); 
        //* allows this to post to any parent iframe regardless of domain
    }
    </script>
</body>

</html>